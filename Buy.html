<!doctype html>
<html lang = "en">
 <head>
	      <meta charset="UTF-8">            
		  <meta name="viewport" content="width=device-width, initial-scale=1.0">
		   <link rel = "stylesheet" href = "BuyStyle.css" > 
	    <title>Buy Products</title>
	    <link rel="icon" type="image/x-icon" href="logo.png">
	
</head>
	
	
<body>
	
	    <!--h1>Header</h1-->
	
		
        <a id="top"></a>
   
        <div class="fix" >
        	<img id = "logo" src="logo.png" alt="logo"><br>
            <nav  >
               
                <a href="HomePage.html" class="link">Home</a>
                <a href="About.html" class="link">About</a>
                <a href="GALLERY/Gallery.html" class="link">Gallery</a>
                <a href="Buy.html" class="link">Shop</a>
                <a href="index.html" class="link">Quiz</a>
                <a href="query.html" class="link">Contact Us</a>
				<a href="CW.html" class="link">Our Team</a>
	
           
            </nav>
        </div><br><br>
	
		
		
		<br>

<!-- adding a cart icon -->
     <div class="cartIcon">
		<a href = "#icon"><img src="cart.png" alt = "cart"  height= "100" width = "100"></a>   
	 </div>	
	
	

	<br>
	<br>
	<br>		
			
   <!-- creating a card for each product -->
	 <div class="column">
        <img src="Products/SwimmingTshirt.png" alt="SwimmingSuit" style = "width:100%" height = "355">
        <h2 class = "Product">NDure Swimsuit</h2>
        <p>Color: Black</p>
        <div class="item-details"> 
	        <p class = "ProductPrice">$21</p>
	        <p><button class=" btn-add-to-cart" type = "button" id = "cart1">Add to cart</button></p>
		</div> 
    </div>



    <div class="column">
        <img src="Products/goggles1.jpg" alt="Goggles" style = "width:100%" height = "355" >
        <h2 class = "Product">NDure Goggles</h2>
        <p>Color: Black</p>
        <div class="item-details">
	        <p class = "ProductPrice">$12.25</p>
	        <p><button class=" btn-add-to-cart" type = "button">Add to cart</button></p>
        </div>
    </div>
  
  
    <div class="column">
        <img src="Products/basketball.png" alt="Basketball" style = "width:100%" height = "355">
        <h2 class = "Product">NDure Basketball</h2>
        <p>Color: Orange</p>
        <div class="item-details">
	        <p class = "ProductPrice">$13.34 </p>
	        <p><button class="btn-add-to-cart" type = "button">Add to cart</button></p>
        </div>
    </div>


    <div class="column">
        <img src="Products/tennisRacket.png" alt="Racket" style = "width:100%" height = "355">
        <h2 class = "Product">TR100 Tennis Racket</h2>
        <p>Color: Black</p>
        <div class="item-details">
	        <p class = "ProductPrice">$46.50</p>
	        <p><button class=" btn-add-to-cart" type = "button">Add to cart</button></p>
	    </div> 
    </div>
	

    <div class="column">
        <img src="Products/sportswear.jpg" alt="sportswear" style = "width:100%" height = "355">
        <h2 class = "Product">NDure Sportswear</h2>
        <p>Color: Pink</p>
         <div class="item-details">
	        <p class = "ProductPrice">$92.57</p>
	        <p><button class="btn-add-to-cart" type = "button">Add to cart</button></p>
         </div>
    </div>


    <div class="column">
        <img src="Products/cricketballs.png" alt="cricketBall" style = "width:100%" height = "355">
        <h2 class = "Product">NDure Tennis Cricket Ball</h2>
        <p>Weight: 544 Grams</p>
         <div class="item-details">
	        <p class = "ProductPrice">$13.34</p>
	        <p><button class="btn-add-to-cart" type = "button">Add to cart</button></p>
        </div>
    </div>
	
	
	 <div class="column">
        <img src="Products/BasketballBasket.png" alt="Basket" style = "width:100%" height = "355">
        <h2 class = "Product">NDure Basketball Basket</h2>
        <p>Color: Black</p>
         <div class="item-details">
	        <p class = "ProductPrice">$250.76</p>
	        <p><button class="btn-add-to-cart" type = "button">Add to cart</button></p>
         </div>
    </div>
	
	    
	 


     <div class="column">
        <img src="Products/cricketBat.png" alt="Bat" style = "width:100%" height = "355">
        <h2 class = "Product">Plus Willow Cricket Bat</h2>
        <p>Color: Multicolor</p>
         <div class="item-details">
	        <p class = "ProductPrice">$22.87</p>
	        <p><button class="btn-add-to-cart" type = "button" >Add to cart</button></p>
	     </div>   
    </div>
	
	
	 <div class="column">
        <img src="Products/trainingshoes.png" alt="Shoes" style = "width:100%" height = "355">
        <h2 class = "Product">NDure Training Sports Shoe</h2>
        <p>Color: White</p>
         <div class="item-details">
	        <p class = "ProductPrice">$37.35</p>
	        <p><button class="btn-add-to-cart" type = "button">Add to cart</button></p>
	    </div>    
    </div>



    <div class="column">
        <img src="Products/Tshirt.png" alt="Tshirt" style = "width:100%" height = "355">
        <h2 class = "Product">NDure United Club T-shirt</h2>
        <p>Color: Black</p>
         <div class="item-details">
	        <p class = "ProductPrice">$30.50</p>
	        <p><button class="btn-add-to-cart" type = "button">Add to cart</button></p>
	    </div>    
    </div>



<!-- form -->
	
    <div class = "container">   
		
         <form id = "form" onsubmit = "return formValidation()" >
            <div class = "entire">
		 	 
		
		
				<div class = "container1">
			
					<h3>Billing Address</h3>
					
					<div class = "input">
						<label for = "name">Full Name:</label><br>
						<input type = "text" id = "name" name = "name"  autocomplete="off"><br>
						<br>
					</div>
					<div class = "input">
						<label for = "email">Email:</label><br>
						<input type = "email" id = "email" name = "email" autocomplete="off"><br>
						<br>
					</div>
					<div class = "input">
						<label for = "Address">Address:</label><br>
						<input type = "text" id = "Address" name = "address" autocomplete="off"><br>
						<br>
					</div>
					<div class = "input">
						<label for = "city">City:</label><br>
						<input type = "text" id = "city" name = "city" autocomplete="off"><br>
						<br>
					</div>
					<div class = "input">			
						<label for = "state">State:</label><br>
						<input type = "text" id = "state" name = "state" autocomplete="off"><br>
						<br>
					</div>
					<div class = "input">			
						<label for = "zip">Zip:</label><br>
						<input type = "text" id = "zip" name = "zip" autocomplete="off"><br>
						<br>
					</div>
						
					<br>
				 </div>	
			</div>


			<div class = "entire2">
				<div class = "container2">		
					
					
					
						<h3>Payment</h3>
						
						<div class = "input">
							<label for = "cardname" >Name on Card:</label><br>
							<input type = "text" id = "cardname" name = "cardname"><br>
							<br>
						</div>
						
						<div class = "input">
							<label for = "Ccardnumber">Credit card number:</label><br>
							<input type = "text" id = "Ccardnumber" name = "Ccardnumber"><br>
							<br>
						</div>
						
						<div class = "input">
							<label for = "expmonth">Exp Month</label><br>
							<input type = "text" id = "expmonth" name = "expmonth"><br>
							<br>
						</div>
						
						<div class = "input">
							<label for = "expyear">Exp Year:</label><br>
							<input type = "text" id = "expyear" name = "expyear"><br>
							<br>
						</div>
						
						<div class = "input">
							<label for = "CVV">CVV:</label><br>
							<input type = "text" id = "CVV" name = "CVV"><br>
							<br>
						</div>

					
						
						<button type = "button" id = "PlaceOrder" class = "btn-Order" onclick="formValidation()">Place order:</button>
					
					
	           </div> 
           </div>	

      </form>	
   </div>


 <!--   Creating Cart -->
	
	
	<div class="column1">
		<a id = "icon"></a>
      <div class = "card">
      	
	     <section class = "cart-section">
				<h2>CART</h2>

				<div class = "cart-row">
					<span class = "cart-item columnHeader cart-column">ITEM</span>
					<span class = "cart-price columnHeader cart-column">PRICE</span>
					<span class = "cart-quantity columnHeader cart-column">QUANTITY</span>
				</div>
				
				 
				<div class = "cart-items">
				</div>
                			
				<div class = "cartTotal">
                    <strong class = "cart-total title">TOTAL</strong>
					<span class = "cart-totalprice"  style="color:white">$0.00</span>
				</div>	
				
			</section>	  
		  
        
      </div>
    </div>


<br>
<br>
<br>
<br>

<!-- To print invoice -->
    <div class = "Summary">
    	
    	
    	<p><span id = "displayname"></span></p>
    	<p><span id = "emaildisplay"></span></p>
    	<p><span id = "addressDisplay"></span> </p>
    	<hr>

    
    <div class = "Invoice">

    	<p><b>INVOICE DETAILS</b></p>
    	<hr>
           <span></span>
           <span></span>
           <span></span>


    </div>	


   

</div>
 
	 
<br>
<br>	   
	  
		
		
<script>

   	
  let AddToCartButtons = document.getElementsByClassName('btn-add-to-cart');
 

 
   for (let i = 0; i < AddToCartButtons.length; i++){
     var button = AddToCartButtons[i];
  	 button.addEventListener('click', AddToCart);   //Adding event listener to all 10 add to cart buttons
  	 }


 var Items = [];
 var Cost = [];	 
//this function takes the name and price of product as the button is clicked 
  function AddToCart(event){
  	var button =  event.target;
  	// console.log(button);
  	// console.log("added to cart");
  	var Item = button.parentElement.parentElement.parentElement;
  	// console.log(Item);
  	var NameOfItem = Item.getElementsByClassName('Product')[0].innerText;
  	Items.push(NameOfItem);
  	var PriceOfItem = Item.getElementsByClassName('ProductPrice')[0].innerText;
  	Cost.push(PriceOfItem);
  	// console.log(PriceOfItem, NameOfItem);
    addItemRowToCart(NameOfItem,PriceOfItem);
   

  }



//creating a cart row in the cart with the name, price and quantity of product


var quantityN = [];
  function addItemRowToCart(NameOfItem,PriceOfItem){
  	var cartRow = document.createElement('div');
  	cartRow.classList.add('cart-row'); // adding cart-row class to created div
  	var CartRowItems = document.getElementsByClassName('cart-items')[0];

  	var CartItemNames = document.getElementsByClassName('cart-item name');  //to prevent adding the same item to cart
  	for (let s = 0 ; s < CartItemNames.length; s++){
  		var CartItemName = CartItemNames[s];
  		if (CartItemName.innerText == NameOfItem){
  			alert("You have already added this item to the cart");
  			
  		}


  	} //cart-row class 
  	var divContent = `<div class = "cart-item cart-column">                   
						    <span class = "cart-item name">${NameOfItem}</span>
						</div>
                        <span class = "cart-price cart-column">${PriceOfItem}</span>
						<div class = "cart-quantity cart-column">
						    <input class="cart-quantity-box" type="number" value="1">
						</div>`;

	// console.log(PriceOfItem);					
  	cartRow.innerHTML = divContent;  //takes info of an item as button is clicked 
  	console.log(cartRow);
  	CartRowItems.append(cartRow);//adding cartRow to CartrowItems. CartRowItems stores all cart-rows.
  	console.log(CartItemNames);
  	UpdateTotal() ;

    	


  	var QuantityBoxes = document.getElementsByClassName('cart-quantity-box'); 
  	// console.log(QuantityBoxes.length);
  	for (let k = 0; k < QuantityBoxes.length; k ++){
  		var QuantityBox = QuantityBoxes[k];
  		quantityN.push(QuantityBox.value);
  		console.log(quantityN);
  		QuantityBox.addEventListener('change', function(event){    //this adds an event listener to all the quantity input boxes
  			var QuantityBox = event.target;
  			if (QuantityBox.value <= 0){                                  //the function updates the total of the cart when the quantity is changed 
  				
  				alert("Quantity of item cannot be 0 or less than that");   //validation of quantity
  				UpdateTotal();
  			}
  			else{
  				UpdateTotal();
  			}

  		})
  		
    }
     
  }

 

  function UpdateTotal() {

  	var CartItemsContainer = document.getElementsByClassName('cart-items')[0];//same as CartRowItems. An empty class which add cart rows when add to cart btn is clicked
  	console.log(CartItemsContainer);
  	var CartRow = CartItemsContainer.getElementsByClassName('cart-row');//cart row was added above in line 763
  	console.log(CartRow);
  	// console.log(CartRow.length); //length of cart row array increases as add to cart button is clicked  
  	Total = 0;
  	for (let j = 0; j < CartRow.length; j++){
  		var Row = CartRow[j]; //to take one element from the array
  		var Price = Row.getElementsByClassName('cart-price')[0]; 
  		// console.log(Price); 
  		var Justprice = Price.innerText.replace("$", "");  //to get only the number
  		// console.log(Justprice);
  		var FloatPrice = parseFloat(Justprice);  //converts to integer
  		var Quantity = Row.getElementsByClassName('cart-quantity-box')[0];
  		// console.log(Quantity);
  		QuantityValue = Quantity.value;

  		Total = Total + (FloatPrice * QuantityValue); 
  
  	}

  	document.getElementsByClassName('cart-totalprice')[0].innerText = Total;

  }




//form validation

	function formValidation(){
	 
	var name = document.getElementById("name").value;
	const emailAddress = document.getElementById("email").value;
	const Address = document.getElementById("Address").value;
	const cityName = document.getElementById("city").value;
	const State = document.getElementById("state").value;
	const Zip = document.getElementById("zip").value;
	const nameOnCard = document.getElementById("cardname").value;
	const CreditcNumber = document.getElementById("Ccardnumber").value;
	const ExpiredMonth = document.getElementById("expmonth").value;
	const ExpiredYear = document.getElementById("expyear").value;
	const Cvv = document.getElementById("CVV").value;
	const form = document.getElementById("form").value;
	var CartItemNames = document.getElementsByClassName('cart-item name');
	var NameOfItem = document.getElementsByClassName('Product')[0].innerText;
  	console.log(NameOfItem);
  	var PriceOfItem = document.getElementsByClassName('ProductPrice')[0].innerText;
  	var Invoices = document.getElementsByClassName('invoice');
  	

	 
	 
		  if ( name == "" ){
			alert("Name is required")
            return false;			
			
		  } else if (emailAddress == ""){
			alert("Email address is required")
			 return false;		
			
		  } else if (Address == ""){
			alert("Address is required")
			return false;		
			
		  } else if (cityName == ""){
			alert("City is required")
             return false;					
			
		  } else if (State == ""){
			alert("State is required")
			 return false;		
			
		  } else if (Zip == ""){
			alert("Zip is required")
			 return false;		
			
		  } else if (nameOnCard == ""){
			alert("Name on card is required")
			 return false;		

          } else if (CreditcNumber == ""){
			alert("Credit card number is required")
			 return false;		

          } else if (ExpiredMonth == ""){
			alert("Exp month is required")
			 return false;		

          } else if (ExpiredYear == ""){
			alert("Exp year is required")
			 return false;		

          } else if (Cvv == ""){
			alert("CVV is required")
            return false;					
			
		  } else {
		  	  var CartItemNames = document.getElementsByClassName('cart-item name');
			  var OrderButton = document.getElementById('PlaceOrder');
			  
			   OrderButton.addEventListener('click', function(){
			  console.log(CartItemNames.length);
			   if (CartItemNames.length == 0){
		     	  alert("Your cart is empty");
		     	  
		      	}
		      else {
		      	    // alert("Your Purchase was successful");
		       	    var myform = document.getElementById('form');     //to print invoice
				   	document.getElementById('displayname').innerHTML = "Name: " + name;
				   	document.getElementById('emaildisplay').innerHTML = "Email: " + emailAddress;
				   	document.getElementById('addressDisplay').innerHTML = "Address: " + Address;
				   	 // document.getElementById('invoice').innerHTML = "Product: " + NameOfItem + " " + PriceOfItem;
                    console.log(Items.length);
                    
				   	for (var z = 0; z < Items.length; z++){
				   		document.getElementsByClassName('Invoice')[0].innerHTML += "Product: " + Items[z] + "<br>" + " Price: " +  Cost[z] + "<br>" + "Quantity: " +  quantityN[z] + "<br>" + "<br>"; 
				   		
				   		
				  	}
                   
		       }
		    

		    	})


		      } 
			
	}


</script>	



<!--bottom bar-->
	<div class="bottomnav">
      <div class="bottom">
		<a href="#Home">Home</a> &nbsp; &nbsp;
		<a href="About.html">About</a> &nbsp; &nbsp;
		<a href="#Gallery">Gallery</a> &nbsp; &nbsp;
		<a href="#Shop">Shop</a> &nbsp; &nbsp;
		<a href="#Quiz">Quiz</a> &nbsp; &nbsp;
		<a href="#Contact">Contact Us</a> &nbsp; &nbsp;
		<a href="#Map">Site Map</a> &nbsp; &nbsp;
		</div><br><br>
		
		<div class="social">

		<a href="https://www.facebook.com/" target="_blank" id="facebook"><img src="icons/facebook.png" alt="facebook"></a> &nbsp; &nbsp; &nbsp;
		<a href="https://www.instagram.com/" target="_blank" id="insta"><img src="icons/INSTA.png" alt="instagram"></a> &nbsp; &nbsp; &nbsp;
		<a href="https://www.whatsapp.com/" target="_blank" id="whatsapp"><img src="icons/whatsapp.png" alt="whatsapp"></a> &nbsp; &nbsp; &nbsp;
		<a href=""><img src="icons/email.jpg" alt="email"  id="em" height="62" width="62"> </a> &nbsp; &nbsp; &nbsp;
		<a href="https://twitter.com/?lang=en" target="_blank" id="twitter">
<img src="icons/Twitter.png" alt="Twitter"></a> &nbsp; &nbsp; &nbsp;

		
		
		</div><br><br>

		<a href="#top" ><img src="icons/arrow.jpeg" alt="back to top" class="center" id="arrow"></a>

		
		<hr style="color:white">

		<p id="last" style="color: white">Page by <a href = "SEditorPage.html" target="_blank" style="color:white">Fathima Shaima</a></p>

		
		
		

		</div>


			
	
	
	
	
</body>
	
	
</html>	
	

 